(()=>{"use strict";var t={56:(t,e,i)=>{t.exports=function(t){var e=i.nc;e&&t.setAttribute("nonce",e)}},72:t=>{var e=[];function i(t){for(var i=-1,a=0;a<e.length;a++)if(e[a].identifier===t){i=a;break}return i}function a(t,a){for(var o={},r=[],h=0;h<t.length;h++){var l=t[h],s=a.base?l[0]+a.base:l[0],d=o[s]||0,p="".concat(s," ").concat(d);o[s]=d+1;var c=i(p),g={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==c)e[c].references++,e[c].updater(g);else{var u=n(g,a);a.byIndex=h,e.splice(h,0,{identifier:p,updater:u,references:1})}r.push(p)}return r}function n(t,e){var i=e.domAPI(e);return i.update(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;i.update(t=e)}else i.remove()}}t.exports=function(t,n){var o=a(t=t||[],n=n||{});return function(t){t=t||[];for(var r=0;r<o.length;r++){var h=i(o[r]);e[h].references--}for(var l=a(t,n),s=0;s<o.length;s++){var d=i(o[s]);0===e[d].references&&(e[d].updater(),e.splice(d,1))}o=l}}},113:t=>{t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}},314:t=>{t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var i="",a=void 0!==e[5];return e[4]&&(i+="@supports (".concat(e[4],") {")),e[2]&&(i+="@media ".concat(e[2]," {")),a&&(i+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),i+=t(e),a&&(i+="}"),e[2]&&(i+="}"),e[4]&&(i+="}"),i})).join("")},e.i=function(t,i,a,n,o){"string"==typeof t&&(t=[[null,t,void 0]]);var r={};if(a)for(var h=0;h<this.length;h++){var l=this[h][0];null!=l&&(r[l]=!0)}for(var s=0;s<t.length;s++){var d=[].concat(t[s]);a&&r[d[0]]||(void 0!==o&&(void 0===d[5]||(d[1]="@layer".concat(d[5].length>0?" ".concat(d[5]):""," {").concat(d[1],"}")),d[5]=o),i&&(d[2]?(d[1]="@media ".concat(d[2]," {").concat(d[1],"}"),d[2]=i):d[2]=i),n&&(d[4]?(d[1]="@supports (".concat(d[4],") {").concat(d[1],"}"),d[4]=n):d[4]="".concat(n)),e.push(d))}},e}},378:(t,e,i)=>{i.d(e,{A:()=>h});var a=i(601),n=i.n(a),o=i(314),r=i.n(o)()(n());r.push([t.id,"// extracted by mini-css-extract-plugin\nexport {};",""]);const h=r},540:t=>{t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},541:(t,e,i)=>{i.d(e,{A:()=>h});var a=i(601),n=i.n(a),o=i(314),r=i.n(o)()(n());r.push([t.id,"// extracted by mini-css-extract-plugin\nexport {};",""]);const h=r},601:t=>{t.exports=function(t){return t[1]}},659:t=>{var e={};t.exports=function(t,i){var a=function(t){if(void 0===e[t]){var i=document.querySelector(t);if(window.HTMLIFrameElement&&i instanceof window.HTMLIFrameElement)try{i=i.contentDocument.head}catch(t){i=null}e[t]=i}return e[t]}(t);if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(i)}},825:t=>{t.exports=function(t){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var e=t.insertStyleElement(t);return{update:function(i){!function(t,e,i){var a="";i.supports&&(a+="@supports (".concat(i.supports,") {")),i.media&&(a+="@media ".concat(i.media," {"));var n=void 0!==i.layer;n&&(a+="@layer".concat(i.layer.length>0?" ".concat(i.layer):""," {")),a+=i.css,n&&(a+="}"),i.media&&(a+="}"),i.supports&&(a+="}");var o=i.sourceMap;o&&"undefined"!=typeof btoa&&(a+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),e.styleTagTransform(a,t,e.options)}(e,t,i)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}}},e={};function i(a){var n=e[a];if(void 0!==n)return n.exports;var o=e[a]={id:a,exports:{}};return t[a](o,o.exports,i),o.exports}i.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return i.d(e,{a:e}),e},i.d=(t,e)=>{for(var a in e)i.o(e,a)&&!i.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})},i.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),i.p="/test-vlad/",i.nc=void 0;var a=i(72),n=i.n(a),o=i(825),r=i.n(o),h=i(659),l=i.n(h),s=i(56),d=i.n(s),p=i(540),c=i.n(p),g=i(113),u=i.n(g),m=i(378),w={};w.styleTagTransform=u(),w.setAttributes=d(),w.insert=l().bind(null,"head"),w.domAPI=r(),w.insertStyleElement=c(),n()(m.A,w),m.A&&m.A.locals&&m.A.locals;var f=i(541),y={};y.styleTagTransform=u(),y.setAttributes=d(),y.insert=l().bind(null,"head"),y.domAPI=r(),y.insertStyleElement=c(),n()(f.A,y),f.A&&f.A.locals&&f.A.locals;const x=i.p+"assets/player.png",v=i.p+"assets/bullet.png",A=i.p+"assets/enemy1.png",b=i.p+"assets/enemy2.png",S=i.p+"assets/enemy3.png",M=i.p+"assets/bonus.png",C=i.p+"assets/background.png",P=i.p+"assets/shoot.mp3",F=i.p+"assets/explosion.mp3",I=i.p+"assets/bonus.mp3",E=i.p+"assets/gameover.mp3",B=i.p+"assets/wave.mp3",T=document.getElementById("gameCanvas"),R=T.getContext("2d"),k=new Image;k.src=x;const D=new Image;D.src=v;const L=new Image;L.src=A;const G=new Image;G.src=b;const $=new Image;$.src=S;const H=new Image;H.src=M;const O=new Image;O.src=C;const X=[new Promise((t=>{new Audio(P).oncanplaythrough=t})),new Promise((t=>{new Audio(F).oncanplaythrough=t})),new Promise((t=>{new Audio(I).oncanplaythrough=t})),new Promise((t=>{new Audio(E).oncanplaythrough=t})),new Promise((t=>{new Audio(B).oncanplaythrough=t}))];function q(t){const e=new Audio(t);e.volume=t===P?.05:t===F?.1:.5,e.play().catch((()=>{}))}const N={x:T.width/2-25,y:T.height-68,width:50,height:68,speed:300,lastShot:0,shootDelay:1/3.3,bonusCount:0,tiltAngle:0},W=[],j=[],z=[],K=[];let U=0,_=1,J=100,Q="start";const V=document.getElementById("startButton"),Y=document.getElementById("restartButton");let Z=performance.now(),tt=0,et=3,it=null,at=0,nt=!1,ot={};document.addEventListener("keydown",(t=>ot[t.code]=!0)),document.addEventListener("keyup",(t=>ot[t.code]=!1)),V.onclick=()=>{"start"===Q&&(Q="playing",V.style.display="none",Y.style.display="none",Z=performance.now(),it={wave:1,time:0,duration:2},q(B),requestAnimationFrame(st))},Y.onclick=()=>{"gameOver"===Q&&(N.x=T.width/2-25,N.lastShot=0,N.shootDelay=1/3.3,N.bonusCount=0,N.tiltAngle=0,W.length=0,j.length=0,z.length=0,K.length=0,U=0,_=1,J=100,tt=0,et=3,at=0,Q="playing",nt=!1,V.style.display="none",Y.style.display="none",it={wave:1,time:0,duration:2},q(B),Z=performance.now(),requestAnimationFrame(st))};const rt=[{width:47,height:55,speed:50,points:10,image:L,health:1},{width:45,height:60,speed:60,points:20,image:G,health:1},{width:70,height:95,speed:30,points:50,image:$,health:3}];function ht(t){return t<=3?rt[0]:t<=6?Math.random()<.6?rt[1]:rt[0]:Math.random()<.3?rt[2]:Math.random()<.6?rt[1]:rt[0]}const lt={straight:(t,e)=>{t.y+=t.speed*e},sine:(t,e)=>{t.y+=t.speed*e,t.x=t.startX+50*Math.sin(t.y/50),t.x<0&&(t.x=0),t.x>T.width-t.width&&(t.x=T.width-t.width)},spiral:(t,e)=>{t.y+=t.speed*e,t.spiralAngle=(t.spiralAngle||0)+2*e,t.x=t.startX+30*Math.cos(t.spiralAngle),t.x<0&&(t.x=0),t.x>T.width-t.width&&(t.x=T.width-t.width)}};function st(t){"playing"===Q&&(V.style.display="none",Y.style.display="none");const e=Math.min((t-Z)/1e3,.1);if(at+=50*e,at>=T.height&&(at-=T.height),R.clearRect(0,0,T.width,T.height),O.complete?(R.drawImage(O,0,at,T.width,T.height),R.drawImage(O,0,at-T.height,T.width,T.height)):(R.fillStyle="black",R.fillRect(0,0,T.width,T.height)),"start"===Q){V.style.display="block",Y.style.display="none",R.font="48px Cinzel",R.textAlign="center";const e=R.createLinearGradient(T.width/2,T.height/2-80,T.width/2,T.height/2);e.addColorStop(0,"#F4A261"),e.addColorStop(1,"#E76F51"),R.fillStyle=e,R.shadowColor="#F4A261",R.shadowBlur=12,R.fillText("Desert Blaster",T.width/2,T.height/2-150),R.shadowBlur=0,R.font="italic 16px Georgia",R.fillStyle="#D4A017",R.shadowColor="#D4A017",R.shadowBlur=5,R.fillText("by What1sl0ve",T.width/2,T.height/2-110),R.shadowBlur=0,R.font="20px Cinzel",R.fillStyle="#FFF3E0",R.fillText("Controls:",T.width/2,T.height/2+70);const i=300,a=30,n=10;return["A / Left Arrow - Move Left","D / Right Arrow - Move Right","Space - Shoot"].forEach(((t,e)=>{const o=T.height/2+90+e*(a+n),r=T.width/2-i/2,h=R.createLinearGradient(r,o,r,o+a);h.addColorStop(0,"#8B5E3C"),h.addColorStop(1,"#A67B5B"),R.fillStyle=h,R.strokeStyle="#D4A017",R.lineWidth=2,R.shadowColor="#D4A017",R.shadowBlur=8,R.beginPath(),R.roundRect(r,o,i,a,5),R.fill(),R.stroke(),R.shadowBlur=0,R.fillStyle="#FFF3E0",R.font="16px Georgia",R.textAlign="center",R.textBaseline="middle",R.fillText(t,T.width/2,o+a/2)})),R.textBaseline="alphabetic",Z=t,void requestAnimationFrame(st)}if("gameOver"===Q){nt||(q(E),nt=!0),V.style.display="none",Y.style.display="block",R.font="50px Cinzel",R.textAlign="center";const e=R.createLinearGradient(T.width/2,T.height/2-20,T.width/2,T.height/2+20);return e.addColorStop(0,"#F4A261"),e.addColorStop(1,"#E76F51"),R.fillStyle=e,R.shadowColor="#F4A261",R.shadowBlur=12,R.fillText("Game Over",T.width/2,T.height/3),R.shadowBlur=0,R.font="20px Georgia",R.fillStyle="#FFF3E0",R.shadowColor="#D4A017",R.shadowBlur=5,R.fillText(`Score: ${U} | Wave: ${_}`,T.width/2,T.height/2),R.shadowBlur=0,void(Z=t)}Z=t,ot.ArrowLeft||ot.KeyA?(N.tiltAngle=Math.max(N.tiltAngle-2*e,-Math.PI/6),N.x-=N.speed*e,N.x<0&&(N.x=0)):ot.ArrowRight||ot.KeyD?(N.tiltAngle=Math.min(N.tiltAngle+2*e,Math.PI/6),N.x+=N.speed*e,N.x>T.width-N.width&&(N.x=T.width-N.width)):N.tiltAngle*=.9,ot.Space&&t/1e3>N.lastShot+N.shootDelay&&(W.push({x:N.x+N.width/2-5,y:N.y-10,width:10,height:20,speed:400}),q(P),N.lastShot=t/1e3);for(let t=W.length-1;t>=0;t--)W[t].y-=W[t].speed*e,W[t].y<-W[t].height&&W.splice(t,1);for(let t=j.length-1;t>=0;t--){const i=j[t];lt[i.pattern](i,e),i.y>T.height&&(Q="gameOver")}for(let t=z.length-1;t>=0;t--)z[t].y+=z[t].speed*e,z[t].blinkPhase=(z[t].blinkPhase||0)+4*e*Math.PI,z[t].y>T.height&&z.splice(t,1);for(let t=K.length-1;t>=0;t--){const i=K[t];i.time+=e,"explosion"===i.type&&i.particles.forEach((t=>{t.x+=t.vx*e,t.y+=t.vy*e,t.alpha-=e/i.duration})),i.time>i.duration&&K.splice(t,1)}if(it&&(it.time+=e,it.time>it.duration&&(it=null)),t/1e3-tt>et){0===j.length&&U>=J&&!it&&(_++,J=200*_,et=Math.max(1,3-.05*_),it={wave:_,time:0,duration:2},q(B),tt=t/1e3);const e=Math.floor(_/2)+1,i=_%3==0?"line":_%4==0?"triangle":"random";if("line"===i){const t=T.width/(e+1);for(let i=0;i<e;i++){const e=ht(_);j.push({x:t*(i+1)-e.width/2,y:0,startX:t*(i+1)-e.width/2,width:e.width,height:e.height,speed:e.speed*(1+.1*_),points:e.points,image:e.image,health:e.health,maxHealth:e.health,pattern:["straight","sine","spiral"][Math.floor(3*Math.random())]})}}else if("triangle"===i){const t=T.width/2,i=0,a=ht(_);j.push({x:t-a.width/2,y:i,startX:t-a.width/2,width:a.width,height:a.height,speed:a.speed*(1+.1*_),points:a.points,image:a.image,health:a.health,maxHealth:a.health,pattern:["straight","sine","spiral"][Math.floor(3*Math.random())]}),e>=3&&(j.push({x:t-100-a.width/2,y:i+50,startX:t-100-a.width/2,width:a.width,height:a.height,speed:a.speed*(1+.1*_),points:a.points,image:a.image,health:a.health,maxHealth:a.health,pattern:["straight","sine","spiral"][Math.floor(3*Math.random())]}),j.push({x:t+100-a.width/2,y:i+50,startX:t+100-a.width/2,width:a.width,height:a.height,speed:a.speed*(1+.1*_),points:a.points,image:a.image,health:a.health,maxHealth:a.health,pattern:["straight","sine","spiral"][Math.floor(3*Math.random())]}))}else for(let t=0;t<e;t++){const t=ht(_);j.push({x:Math.random()*(T.width-t.width),y:0,startX:Math.random()*(T.width-t.width),width:t.width,height:t.height,speed:t.speed*(1+.1*_),points:t.points,image:t.image,health:t.health,maxHealth:t.health,pattern:["straight","sine","spiral"][Math.floor(3*Math.random())]})}tt=t/1e3}for(let t=W.length-1;t>=0;t--)for(let e=j.length-1;e>=0;e--){const i=W[t],a=j[e];if(i.x<a.x+a.width&&i.x+i.width>a.x&&i.y<a.y+a.height&&i.y+i.height>a.y){if(W.splice(t,1),a.health--,a.health<=0){j.splice(e,1),U+=a.points;const t=[];for(let e=0;e<10;e++)t.push({x:a.x+a.width/2,y:a.y+a.height/2,vx:200*(Math.random()-.5),vy:200*(Math.random()-.5),radius:2+3*Math.random(),alpha:1});K.push({type:"explosion",x:a.x+a.width/2,y:a.y+a.height/2,radius:10,maxRadius:a.width,time:0,duration:.5,particles:t}),q(F),Math.random()<.1&&z.push({x:a.x+a.width/2-10,y:a.y,width:13,height:20,speed:100,blinkPhase:0})}break}}for(let t=z.length-1;t>=0;t--){const e=z[t];if(N.x<e.x+e.width&&N.x+N.width>e.x&&N.y<e.y+e.height&&N.y+N.height>e.y&&(z.splice(t,1),N.bonusCount<23)){N.bonusCount++;const t=3.3+.3*N.bonusCount;N.shootDelay=Math.max(.1,1/t),q(I)}}if(K.forEach((t=>{if("explosion"===t.type){const e=t.time/t.duration,i=t.radius+(t.maxRadius-t.radius)*e,a=R.createRadialGradient(t.x,t.y,0,t.x,t.y,i);a.addColorStop(0,"rgba(255, 165, 0, 1)"),a.addColorStop(1,"rgba(255, 0, 0, 0)"),R.beginPath(),R.arc(t.x,t.y,i,0,2*Math.PI),R.fillStyle=a,R.fill(),t.particles.forEach((t=>{R.beginPath(),R.arc(t.x,t.y,t.radius,0,2*Math.PI),R.fillStyle=`rgba(255, 255, 0, ${t.alpha})`,R.fill()}))}})),R.save(),R.translate(N.x+N.width/2,N.y+N.height/2),R.rotate(N.tiltAngle),k.complete?R.drawImage(k,-N.width/2,-N.height/2,N.width,N.height):(R.fillStyle="white",R.fillRect(-N.width/2,-N.height/2,N.width,N.height)),R.restore(),W.forEach((t=>{D.complete?R.drawImage(D,t.x,t.y,t.width,t.height):R.fillRect(t.x,t.y,t.width,t.height)})),j.forEach((t=>{if(t.image.complete?R.drawImage(t.image,t.x,t.y,t.width,t.height):(R.fillStyle=t.health>1?"purple":"red",R.fillRect(t.x,t.y,t.width,t.height)),t.maxHealth>1){const e=t.width,i=5,a=t.health/t.maxHealth;R.fillStyle="red",R.fillRect(t.x,t.y-10,e,i),R.fillStyle="green",R.fillRect(t.x,t.y-10,e*a,i)}})),z.forEach((t=>{const e=(Math.sin(t.blinkPhase)+1)/2,i=R.createRadialGradient(t.x+t.width/2,t.y+t.height/2,0,t.x+t.width/2,t.y+t.height/2,t.width/2);i.addColorStop(0,`rgba(0, 255, 0, ${.8+.2*e})`),i.addColorStop(1,`rgba(0, 0, 255, ${.8+.2*e})`),R.fillStyle=i,H.complete?R.drawImage(H,t.x,t.y,t.width,t.height):R.fillRect(t.x,t.y,t.width,t.height)})),R.font="20px Georgia",R.textAlign="left",R.fillStyle="#FFF3E0",R.shadowColor="#D4A017",R.shadowBlur=5,R.fillText(`Score: ${U}`,10,30),R.fillText(`Wave: ${_} (Need: ${J})`,10,60),R.fillText(`Fire Rate: ${(1/N.shootDelay).toFixed(1)}/s`,10,90),R.shadowBlur=0,it){const t=it.time/it.duration;R.globalAlpha=Math.sin(t*Math.PI),R.font="40px Cinzel",R.textAlign="center";const e=R.createLinearGradient(T.width/2,T.height/3-20,T.width/2,T.height/3+20);e.addColorStop(0,"#F4A261"),e.addColorStop(1,"#E76F51"),R.fillStyle=e,R.shadowColor="#F4A261",R.shadowBlur=12,R.fillText(`Wave ${it.wave} begins!`,T.width/2,T.height/3),R.shadowBlur=0,R.globalAlpha=1}requestAnimationFrame(st)}Promise.all([new Promise((t=>k.onload=t)),new Promise((t=>D.onload=t)),new Promise((t=>L.onload=t)),new Promise((t=>G.onload=t)),new Promise((t=>$.onload=t)),new Promise((t=>H.onload=t)),new Promise((t=>O.onload=t))]).then((()=>{Promise.all(X).then((()=>{requestAnimationFrame(st)}))}))})();